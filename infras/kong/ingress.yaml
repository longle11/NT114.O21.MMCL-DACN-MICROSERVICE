apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress
  namespace: default
  annotations:
    # konghq.com/protocols: https
    konghq.com/methods: GET,POST,PUT,DELETE
    # konghq.com/plugins: rate-limit, admin-api-auth
    konghq.com/strip-path: "false"
spec:
  ingressClassName: kong
  rules:
  - http:
      paths:
        - path: /api/users/
          pathType: Prefix
          backend:
            service:
              name: auth-srv
              port: 
                number: 4000
        - path: /api/comment/
          pathType: Prefix
          backend: 
            service:  
              name: comment-srv
              port:
                number: 4001
        - path: /api/issue/
          pathType: Prefix
          backend: 
            service:  
              name: issue-srv
              port:
                number: 4002
        - path: /api/projectmanagement/
          pathType: Prefix
          backend: 
            service:  
              name: projectmanagement-srv
              port:
                number: 4003
        - path: /api/category/
          pathType: Prefix
          backend:
            service:
              name: category-srv
              port: 
                number: 4004
        - path: /
          pathType: Prefix
          backend:
            service:
              name: client-srv
              port: 
                number: 3006
